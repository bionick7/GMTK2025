[gd_scene load_steps=11 format=3 uid="uid://b8axavkyftmfn"]

[ext_resource type="Script" uid="uid://omku14d1jbh7" path="res://Scripts/GlobalRaceTracker.gd" id="1_etd3f"]
[ext_resource type="Environment" uid="uid://bgxh8o8xm63qv" path="res://default_env.tres" id="2_4nh8f"]
[ext_resource type="PackedScene" uid="uid://stw1smmnyv77" path="res://Scenes/Levels/Knot.tscn" id="2_etd3f"]
[ext_resource type="PackedScene" uid="uid://gtmb16oiip16" path="res://Scenes/Levels/Rooster.tscn" id="5_etd3f"]
[ext_resource type="Shader" uid="uid://d0cmg5a8jkul5" path="res://Art/Shaders/Postprocessing.gdshader" id="5_vkf7a"]
[ext_resource type="PackedScene" uid="uid://bwpjq61ni7jxx" path="res://Scenes/Pieces/HCurveR.tscn" id="6_rbpxy"]
[ext_resource type="PackedScene" uid="uid://cbowwtbglbpln" path="res://Scenes/Pieces/VCurve.tscn" id="7_3jhef"]
[ext_resource type="PackedScene" uid="uid://h2cgxtwfa287" path="res://Scenes/Pieces/StartGate.tscn" id="8_etd3f"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_dqpvo"]
render_priority = 0
shader = ExtResource("5_vkf7a")
shader_parameter/postarization = Vector3i(10, 20, 255)
shader_parameter/pixel_size = 4

[sub_resource type="QuadMesh" id="QuadMesh_o0omn"]
custom_aabb = AABB(-1e+06, -1e+06, -1e+06, 2e+06, 2e+06, 2e+06)
size = Vector2(2, 2)

[node name="BaseLevel" type="Node3D" groups=["LevelRoot"]]
script = ExtResource("1_etd3f")
next_level = ExtResource("2_etd3f")
rounds = 3
place_to_win = null

[node name="NPCRooster" parent="." instance=ExtResource("5_etd3f")]
npc_speed_delta = -2.0

[node name="Postprocessing" type="MeshInstance3D" parent="."]
sorting_use_aabb_center = false
material_override = SubResource("ShaderMaterial_dqpvo")
cast_shadow = 0
ignore_occlusion_culling = true
mesh = SubResource("QuadMesh_o0omn")

[node name="Track" type="Node3D" parent="."]

[node name="HCurve" parent="Track" node_paths=PackedStringArray("next") instance=ExtResource("6_rbpxy")]
next = NodePath("../HCurve2")

[node name="HCurve2" parent="Track" node_paths=PackedStringArray("next") instance=ExtResource("6_rbpxy")]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 0, 0, 0)
beginning = true
next = NodePath("../VCurve2")

[node name="VCurve2" parent="Track" node_paths=PackedStringArray("next") instance=ExtResource("7_3jhef")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -30, 30, 2.62268e-06)
next = NodePath("../HCurve3")

[node name="HCurve3" parent="Track" node_paths=PackedStringArray("next") instance=ExtResource("6_rbpxy")]
transform = Transform3D(-1, 0, -8.74228e-08, -8.74228e-08, -4.37114e-08, 1, -3.82137e-15, 1, 4.37114e-08, 0, 30, -30)
next = NodePath("../HCurve4")

[node name="HCurve4" parent="Track" node_paths=PackedStringArray("next") instance=ExtResource("6_rbpxy")]
transform = Transform3D(-4.37114e-08, 0, 1, 1, -4.37114e-08, 4.37114e-08, 4.37114e-08, 1, 1.91069e-15, 0, 30, -30)
next = NodePath("../VCurve")

[node name="VCurve" parent="Track" node_paths=PackedStringArray("next") instance=ExtResource("7_3jhef")]
transform = Transform3D(4.37114e-08, 8.74228e-08, -1, -1, 4.37114e-08, -4.37114e-08, 4.37114e-08, 1, 8.74228e-08, 30, 30, 0)
next = NodePath("../HCurve")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = ExtResource("2_4nh8f")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.965926, 0.258819, 0, -0.258819, 0.965926, 0, 0.84769, 39.7557)
light_indirect_energy = 0.0
shadow_enabled = true

[node name="StartGate" parent="." instance=ExtResource("8_etd3f")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 30)
