[gd_scene load_steps=12 format=3 uid="uid://ct2cdly8no8ls"]

[ext_resource type="Script" uid="uid://omku14d1jbh7" path="res://Scripts/GlobalRaceTracker.gd" id="1_jp0ed"]
[ext_resource type="PackedScene" uid="uid://bphfmiwrqtdm7" path="res://Scenes/Pieces/TwistL.tscn" id="1_k5347"]
[ext_resource type="Environment" uid="uid://bgxh8o8xm63qv" path="res://default_env.tres" id="2_ibjkt"]
[ext_resource type="PackedScene" uid="uid://bwpjq61ni7jxx" path="res://Scenes/Pieces/HCurveR.tscn" id="2_jv7mb"]
[ext_resource type="PackedScene" uid="uid://njneyce2ah4y" path="res://Scenes/Vehicle/PlayerVehicle.tscn" id="3_s4322"]
[ext_resource type="PackedScene" uid="uid://c257ubfcajoyj" path="res://Scenes/NPCVehicle/NPCVehicle.tscn" id="4_6yby3"]
[ext_resource type="PackedScene" uid="uid://vftchh1rs3yr" path="res://Scenes/Pieces/Straight.tscn" id="4_ktdh6"]
[ext_resource type="Shader" uid="uid://d0cmg5a8jkul5" path="res://Art/Shaders/Postprocessing.gdshader" id="5_72qdf"]
[ext_resource type="PackedScene" uid="uid://c1v7b6sg3yt3v" path="res://Scenes/Pieces/HCurveL.tscn" id="5_ejnir"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_yxo8c"]
render_priority = 0
shader = ExtResource("5_72qdf")
shader_parameter/postarization = Vector3i(10, 20, 255)
shader_parameter/pixel_size = 4

[sub_resource type="QuadMesh" id="QuadMesh_npiqq"]
custom_aabb = AABB(-1e+06, -1e+06, -1e+06, 2e+06, 2e+06, 2e+06)
size = Vector2(2, 2)

[node name="MÃ¶bius" type="Node3D" groups=["LevelRoot"]]
script = ExtResource("1_jp0ed")
rounds = 2

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = ExtResource("2_ibjkt")

[node name="PlayerVehicle" parent="." instance=ExtResource("3_s4322")]
transform = Transform3D(-1.35103e-07, 0, 1, 0, 1, 0, -1, 0, -1.35103e-07, -1.20795, 2.20145, 0.266031)
linear_damp = 0.001
angular_damp = 0.001
autopilot = false

[node name="NpcVehicle" parent="." instance=ExtResource("4_6yby3")]
transform = Transform3D(1.31134e-07, 0, 1, 0, 1, 0, -1, 0, 1.31134e-07, 1.35586, 3.01639, 0.617651)

[node name="Postprocessing" type="MeshInstance3D" parent="."]
sorting_use_aabb_center = false
material_override = SubResource("ShaderMaterial_yxo8c")
cast_shadow = 0
ignore_occlusion_culling = true
mesh = SubResource("QuadMesh_npiqq")

[node name="Track" type="Node3D" parent="."]

[node name="TwistR" parent="Track" node_paths=PackedStringArray("next") instance=ExtResource("1_k5347")]
transform = Transform3D(1, 8.74228e-08, -8.74228e-08, 8.23678e-08, -0.998417, -0.0562397, -9.2201e-08, 0.0562397, -0.998417, 0, 0.120797, -0.0237417)
beginning = true
next = NodePath("../TwistR2")

[node name="TwistR2" parent="Track" node_paths=PackedStringArray("next") instance=ExtResource("1_k5347")]
transform = Transform3D(4.37114e-08, -1, -8.74228e-08, -0.998417, -3.87256e-08, -0.0562397, 0.0562397, 8.97427e-08, -0.998417, 0, -1.5664, -29.9763)
next = NodePath("../HCurveL")

[node name="HCurveL" parent="Track" node_paths=PackedStringArray("next") instance=ExtResource("5_ejnir")]
transform = Transform3D(-4.37114e-08, -8.74228e-08, -1, 7.64274e-15, -1, 8.74228e-08, -1, -3.82137e-15, 4.37114e-08, 30, -3, -60)
next = NodePath("../HCurveL2")

[node name="HCurveL2" parent="Track" node_paths=PackedStringArray("next") instance=ExtResource("5_ejnir")]
transform = Transform3D(1, -8.74228e-08, 1.06581e-14, -8.74228e-08, -1, 1.09268e-14, 1.06581e-14, -7.10543e-15, -1, 30, -3, -60)
next = NodePath("../Straight3")

[node name="Straight3" parent="Track" node_paths=PackedStringArray("next") instance=ExtResource("4_ktdh6")]
transform = Transform3D(-1, 8.74228e-08, 0, -8.74228e-08, -1, 0, 0, 0, 1, 60, -3, -60)
next = NodePath("../Straight4")

[node name="Straight4" parent="Track" node_paths=PackedStringArray("next") instance=ExtResource("4_ktdh6")]
transform = Transform3D(-1, 8.74228e-08, 0, -8.74228e-08, -1, 0, 0, 0, 1, 60, -3, -30)
next = NodePath("../HCurveL3")

[node name="HCurveL3" parent="Track" node_paths=PackedStringArray("next") instance=ExtResource("5_ejnir")]
transform = Transform3D(-4.37114e-08, 8.74228e-08, 1, 7.64274e-15, -1, 8.74228e-08, 1, 1.14641e-14, 4.37114e-08, 30, -3, 0)
next = NodePath("../HCurveL4")

[node name="HCurveL4" parent="Track" node_paths=PackedStringArray("next") instance=ExtResource("5_ejnir")]
transform = Transform3D(-1, 8.74228e-08, -8.74228e-08, -8.74228e-08, -1, 1.09268e-14, -8.74228e-08, 1.47482e-14, 1, 30, -3, 0)
next = NodePath("../TwistR3")

[node name="TwistR3" parent="Track" node_paths=PackedStringArray("next") instance=ExtResource("1_k5347")]
transform = Transform3D(-1, -1.74707e-07, 8.25062e-08, -1.69791e-07, 0.998417, 0.0562397, -9.2201e-08, 0.0562397, -0.998417, 7.37497e-08, -3.44096, -0.0237417)
next = NodePath("../TwistR4")

[node name="TwistR4" parent="Track" node_paths=PackedStringArray("next") instance=ExtResource("1_k5347")]
transform = Transform3D(-1.30996e-07, 1, 8.25062e-08, 0.998417, 1.26148e-07, 0.0562397, 0.0562397, 8.97427e-08, -0.998417, -7.37497e-08, -1.75376, -29.9763)
next = NodePath("../HCurveL")

[node name="HCurveR4" parent="Track" node_paths=PackedStringArray("next") instance=ExtResource("2_jv7mb")]
transform = Transform3D(-1, 0, 8.74228e-08, 0, 1, 0, -8.74228e-08, 0, -1, 30, 0, -60)
next = NodePath("../HCurveR3")

[node name="HCurveR3" parent="Track" node_paths=PackedStringArray("next") instance=ExtResource("2_jv7mb")]
transform = Transform3D(1.31134e-07, 0, 1, 0, 1, 0, -1, 0, 1.31134e-07, 30, 0, -60)
next = NodePath("../Straight")

[node name="Straight" parent="Track" node_paths=PackedStringArray("next") instance=ExtResource("4_ktdh6")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 60, 0, -60)
next = NodePath("../Straight2")

[node name="Straight2" parent="Track" node_paths=PackedStringArray("next") instance=ExtResource("4_ktdh6")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 60, 0, -30)
next = NodePath("../HCurveR2")

[node name="HCurveR2" parent="Track" node_paths=PackedStringArray("next") instance=ExtResource("2_jv7mb")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 30, 0, 0.347118)
next = NodePath("../HCurveR")

[node name="HCurveR" parent="Track" node_paths=PackedStringArray("next") instance=ExtResource("2_jv7mb")]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 30, 0, 0)
next = NodePath("../TwistR")
